<%= form_with model: @condition,
      url: planning_application_assessment_conditions_path(@planning_application),
      html: {data: {controller: "reset-text"}},
      method: :patch do |form| %>

  <%= form.govuk_error_summary %>

  <%= content_tag :div, class: "govuk-!-margin-bottom-5" do %>
    <%= form.hidden_field :id %>
    <%= form.hidden_field :standard, value: false %>
    <%= form.hidden_field :title, value: @condition.title if @condition.standard %>
    <%= form.hidden_field :text_source, value: @condition.text, data: {reset_text_target: "source"} %>
    <%= form.govuk_text_area :text, label: {text: "Enter condition"}, data: {reset_text_target: "destination"} %>
    <%= button_tag "Reset condition", type: "button", class: "govuk-body button-as-link govuk-!-margin-bottom-6", value: "text", data: {action: "click->reset-text#reset"} %>
    <%= form.hidden_field :reason_source, value: @condition.reason, data: {reset_text_target: "source"} %>
    <%= form.govuk_text_area :reason, label: {text: "Enter a reason for this condition"}, data: {reset_text_target: "destination"} %>
    <%= button_tag "Reset reason", type: "button", class: "govuk-body button-as-link govuk-!-margin-bottom-6", value: "reason", data: {action: "click->reset-text#reset"} %><br>
  <% end %>

  <div class="govuk-button-group">
    <%= form.submit(
          "Save condition",
          class: "govuk-button",
          data: {module: "govuk-button"}
        ) %>
    <%= back_link %>
  </div>
<% end %>
