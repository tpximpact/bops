<li id="application-details-tasks">
  <h2 class="app-task-list__section">
    Check application details
  </h2>
  <%= govuk_task_list(id_prefix: "application-details-tasks") do |task_list|
        task_list.with_item(html_attributes: {id: "draw-red-line-boundary"}) do |item|
          task = Validation::DrawRedLineBoundaryTask.new(@planning_application)
          item.with_title(text: task.task_list_link_text, href: task.task_list_link)
          item.with_status(text: render(task.task_list_status_component))
        end

        task_list.with_item(html_attributes: {id: "check-red-line-boundary"}) do |item|
          task = Validation::CheckRedLineBoundaryTask.new(@planning_application)
          item.with_title(text: task.task_list_link_text,
            href: task.task_list_link)
          item.with_status(text: render(StatusTags::BaseComponent.new(status: task.task_list_status)))
        end

        task_list.with_item(html_attributes: {id: "constraints-validation-tasks"}) do |item|
          task = Validation::CheckConstraintsTask.new(@planning_application)
          item.with_title(text: task.task_list_link_text, href: task.task_list_link)
          item.with_status(text: render(StatusTags::ConstraintsComponent.new(planning_application: @planning_application)))
        end

        task_list.with_item(html_attributes: {id: "check-description"}) do |item|
          task = Validation::CheckDescriptionTask.new(@planning_application)
          item.with_title(text: task.task_list_link_text, href: task.task_list_link)
          item.with_status(text: render(StatusTags::BaseComponent.new(status: task.task_list_status)))
        end

        task_list.with_item(title: "Add reporting details",
          href: edit_planning_application_validation_reporting_type_path(@planning_application),
          status: render(StatusTags::BaseComponent.new(
            status: @planning_application.reporting_type_status
          )),
          html_attributes: {id: "development-type-for-reporting-task"})

        if @planning_application.application_type.legislation_description
          task_list.with_item(html_attributes: {id: "check-legislative-requirements"}) do |item|
            task = Validation::CheckLegislationDescriptionTask.new(@planning_application)
            item.with_title(text: task.task_list_link_text, href: task.task_list_link)
            item.with_status(text: render(StatusTags::BaseComponent.new(status: task.task_list_status)))
          end
        end
      end %>
