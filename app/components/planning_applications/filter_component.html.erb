<div class="govuk-accordion single-section-accordion" data-module="govuk-accordion" data-controller="select-checkboxes">
  <div class="govuk-accordion__section">
    <div class="govuk-accordion__section-header">
      <h3 class="govuk-accordion__section-heading">
        <button type="button" class="govuk-accordion__section-button">
          Filter by status (<%= selected_filters_count %> of <%= filter_types.count %> selected)
        </button>
        <span class="govuk-accordion__icon"></span>
      </h3>
    </div>
    <div class="govuk-accordion__section-content">
      <%= form_with(
        model: filter,
        builder: GOVUKDesignSystemFormBuilder::FormBuilder,
        method: :get,
        url: planning_applications_path
      ) do |form| %>
        <%= hidden_field_tag(:q, "exclude_others") %>
        <%= form.govuk_collection_check_boxes(:filter_options, filter_types, :to_s, :humanize, small: true, legend: nil, classes: "display-flex") %>
        <%= form.submit "Apply filters", class: "govuk-button govuk-button--secondary" %>
      <% end %>
    </div>
  </div>
</div>
