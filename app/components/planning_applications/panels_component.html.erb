<%= render(
  PlanningApplications::PanelComponent.new(
    planning_applications: all_planning_applications,
    type: :all,
    search_filter: search_filter,
    exclude_others: exclude_others,
    current_user: current_user
  )
) %>
<% panel_types.each do |panel_type| %>
  <%= render(
    PlanningApplications::PanelComponent.new(
      planning_applications: all_planning_applications.select { |pa| PlanningApplication::CLOSED_STATUSES.include?(pa.status) },
      type: panel_type,
      current_user: current_user,
      search_filter: search_filter
    )
  ) %>
<% end %>
<% if exclude_others %>
  <%= render(
    PlanningApplications::UpdatedPanelComponent.new(
      audits: local_authority_most_recent_audits_for_planning_applications
    )
  ) %>
<% end %>
