openapi: 3.0.1
info:
  title: Back-office Planning System
  version: v1
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
paths:
  '/api/v1/planning_applications/{id}':
    get:
      summary: Retrieves all determined planning applications
      tags:
        - Planning application
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
      responses:
        '200':
          description: All determined planning applications
          content:
            application/json:
              examples:
                ldc_proposed:
                  value:
                    id: 10000
                    reference: 20-00100-LDCP
                    reference_in_full: PlanX-20-00100-LDCP
                    site:
                      address_1: 11 Abbey Gardens
                      address_2: Southwark
                      town: nil
                      county: London
                      postcode: SE16 3RQ
                      latitude: '51.4842536'
                      longitude: '-0.0764165'
                      uprn: '100081043511'
                    status: not_started
                    application_type: lawfulness_certificate
                    description: Add chimnney stack
                    created_at: '2020-05-14T06:18:17.540+01:00'
                    received_date: '2020-05-14T09:00:00.000+01:00'
                    determined_at: '2020-05-14T06:18:17.540+01:00'
                    determination_date: '2020-05-14T06:18:17.540+01:00'
                    target_date: '2020-06-18'
                    started_at: '2020-05-15T06:18:17.540+01:00'
                    invalidated_at: null
                    withdrawn_at: null
                    returned_at: null
                    work_status: proposed
                    payment_reference: PAY1
                    payment_amount: '105.12'
                    awaiting_determination_at: '2020-05-16T06:18:17.540+01:00'
                    in_assessment_at: '2020-05-16T06:18:17.540+01:00'
                    to_be_reviewed_at: null
                    applicant_first_name: Albert
                    applicant_last_name: Manteras
                    agent_first_name: Jennifer
                    agent_last_name: Harper
                    agent_phone: '237878889'
                    agent_email: agent@example.com
                    user_role: agent
                    result_flag: Planning permission / Permission needed
                    result_heading: It looks like these changes will need planning permission
                    result_description: 'Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate'
                    result_override: This was my reason for rejecting the result
                    make_public: true
                    constraints:
                      - Conservation Area
                      - Listed Building
                    boundary_geojson:
                      type: Feature
                      geometry:
                        type: Polygon
                        coordinates:
                          - - - -0.07716178894042969
                              - 51.50094238217541
                            - - -0.07645905017852783
                              - 51.50053497847238
                            - - -0.07615327835083008
                              - 51.50115276135022
                            - - -0.07716178894042969
                              - 51.50094238217541
                    documents:
                      - url: 'http://example.com/document_path.pdf'
                        blob_url: rails/active_storage/representations/redirect/123/docoument_name
                        created_at: '2020-05-16T06:18:17.540+01:00'
                        tags:
                          - Side
                          - Elevation
                          - Proposed
                        numbers: PLAN01
                        applicant_description: This is the proposed side elevation
  /api/v1/planning_applications:
    get:
      summary: Retrieves all determined planning applications
      tags:
        - Planning application
      responses:
        '200':
          description: All determined planning applications
          content:
            application/json:
              examples:
                ldc_proposed:
                  value:
                    data:
                      - id: 10000
                        reference: 20-00100-LDCP
                        reference_in_full: PlanX-20-00100-LDCP
                        site:
                          address_1: 11 Abbey Gardens
                          address_2: Southwark
                          town: nil
                          county: London
                          postcode: SE16 3RQ
                          latitude: '51.4842536'
                          longitude: '-0.0764165'
                          uprn: '100081043511'
                        status: not_started
                        application_type: lawfulness_certificate
                        description: Add chimnney stack
                        created_at: '2020-05-14T06:18:17.540+01:00'
                        received_date: '2020-05-14T09:00:00.000+01:00'
                        determined_at: '2020-05-14T06:18:17.540+01:00'
                        determination_date: '2020-05-14T06:18:17.540+01:00'
                        target_date: '2020-06-18'
                        started_at: '2020-05-15T06:18:17.540+01:00'
                        invalidated_at: null
                        withdrawn_at: null
                        returned_at: null
                        work_status: proposed
                        payment_reference: PAY1
                        payment_amount: '105.12'
                        awaiting_determination_at: '2020-05-16T06:18:17.540+01:00'
                        in_assessment_at: '2020-05-16T06:18:17.540+01:00'
                        to_be_reviewed_at: null
                        applicant_first_name: Albert
                        applicant_last_name: Manteras
                        agent_first_name: Jennifer
                        agent_last_name: Harper
                        agent_phone: '237878889'
                        agent_email: agent@example.com
                        user_role: agent
                        result_flag: Planning permission / Permission needed
                        result_heading: It looks like these changes will need planning permission
                        result_description: 'Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate'
                        result_override: This was my reason for rejecting the result
                        make_public: true
                        constraints:
                          - Conservation Area
                          - Listed Building
                        boundary_geojson:
                          type: Feature
                          geometry:
                            type: Polygon
                            coordinates:
                              - - - -0.07716178894042969
                                  - 51.50094238217541
                                - - -0.07645905017852783
                                  - 51.50053497847238
                                - - -0.07615327835083008
                                  - 51.50115276135022
                                - - -0.07716178894042969
                                  - 51.50094238217541
                        documents:
                          - url: 'http://example.com/document_path.pdf'
                            blob_url: rails/active_storage/representations/redirect/123/docoument_name
                            created_at: '2020-05-16T06:18:17.540+01:00'
                            tags:
                              - Side
                              - Elevation
                              - Proposed
                            numbers: PLAN01
                            applicant_description: This is the proposed side elevation
    post:
      summary: Create new planning application
      tags:
        - Planning application
      security:
        - bearerAuth: []
      parameters: []
      responses:
        '200':
          description: valid_request
          content: {}
        '400':
          description: invalid_request
          content: {}
        '401':
          description: unauthorized_user
          content: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                application_type:
                  type: string
                  enum:
                    - lawfulness_certificate
                  example: lawfulness_certificate
                site:
                  type: object
                  properties:
                    uprn:
                      type: string
                      example: '100081043511'
                    address_1:
                      type: string
                      example: 11 Abbey Gardens
                    address_2:
                      type: string
                      example: Southwark
                    town:
                      type: string
                      example: London
                    postcode:
                      type: string
                      example: SE16 3RQ
                    latitude:
                      type: string
                      example: '51.4842536'
                    longitude:
                      type: string
                      example: '-0.0764165'
                description:
                  type: string
                  example: Add chimnney stack
                payment_reference:
                  type: string
                  example: PAY1
                payment_amount:
                  type: integer
                  example: 10300
                work_status:
                  type: string
                  example: proposed
                proposal_details:
                  type: array
                  items:
                    type: object
                    properties:
                      question:
                        type: string
                        example: what are you planning to do?
                      responses:
                        type: array
                        items:
                          type: object
                          properties:
                            value:
                              type: string
                              example: demolish
                            metadata:
                              type: object
                              properties:
                                flags:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      value:
                                        type: string
                                        example: Planning permission / Permission needed
                      metadata:
                        type: object
                        properties:
                          section_name:
                            type: string
                            example: Property details
                          notes:
                            type: string
                            example: this will be done before rebuilding
                          auto_answered:
                            type: boolean
                            example: true
                          policy_refs:
                            type: array
                            items:
                              type: object
                              properties:
                                url:
                                  type: string
                                  example: 'http://example.com/planning/policy/1/234/a.html'
                                value:
                                  type: string
                                  example: GPDO 32.2342.223
                          flags:
                            type: array
                            items:
                              type: object
                              properties:
                                value:
                                  type: string
                agent_first_name:
                  type: string
                  example: Jennifer
                agent_last_name:
                  type: string
                  example: Harper
                agent_phone:
                  type: string
                  example: '237878889'
                agent_email:
                  type: string
                  example: agent@example.com
                applicant_first_name:
                  type: string
                  example: Albert
                applicant_last_name:
                  type: string
                  example: Manteras
                applicant_phone:
                  type: string
                  example: '23432325435'
                applicant_email:
                  type: string
                  example: applicant@example.com
                user_role:
                  type: string
                  example: agent
                result:
                  type: object
                  properties:
                    flag:
                      type: string
                      example: Planning permission / Permission needed
                    heading:
                      type: string
                      example: It looks like these changes will need planning permission
                    description:
                      type: string
                      example: 'Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate'
                    override:
                      type: string
                      example: This was my reason for rejecting the result
                constraints:
                  type: object
                files:
                  type: array
                  items:
                    type: object
                    properties:
                      filename:
                        type: string
                        example: 'https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf'
                      tags:
                        type: array
                        items:
                          type: string
                          example: Side
                      applicant_description:
                        type: string
                        example: This is the side plan
                boundary_geojson:
                  type: object
              required:
                - site
                - application_type
                - applicant_email
            examples:
              ldc_proposed:
                value:
                  application_type: lawfulness_certificate
                  site:
                    uprn: '100081043511'
                    address_1: 11 Abbey Gardens
                    address_2: Southwark
                    town: London
                    postcode: SE16 3RQ
                    latitude: '51.4842536'
                    longitude: '-0.0764165'
                  description: Add a chimney stack
                  payment_reference: PAY1
                  payment_amount: 10300
                  work_status: proposed
                  applicant_first_name: Albert
                  applicant_last_name: Manteras
                  applicant_phone: '23432325435'
                  applicant_email: applicant@example.com
                  agent_first_name: Jennifer
                  agent_last_name: Harper
                  agent_phone: '237878889'
                  agent_email: agent@example.com
                  user_role: agent
                  feedback:
                    result: feedback about the result
                    find_property: feedback about the property
                    planning_constraints: feedback about the constraints
                  result:
                    flag: Planning permission / Permission needed
                    heading: It looks like these changes will need planning permission
                    description: 'Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate'
                    override: This was my reason for rejecting the result
                  proposal_details:
                    - question: What do you want to do?
                      responses:
                        - value: Modify or extend
                      metadata:
                        section_name: Property details
                    - question: What is the dwelling used as?
                      responses:
                        - value: A family home
                      metadata:
                        section_name: Property details
                    - question: Is the property a house?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: Property details
                    - question: How many storeys will the new structure have?
                      responses:
                        - value: '1'
                      metadata:
                        section_name: Property details
                    - question: Was the house always a house?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: Property details
                    - question: Will the structure include a satellite dish or antenna?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Property details
                        policy_refs:
                          - url: 'http://example.com/planning/policy/1/234/a.html'
                            text: GPDO 00.0000.000
                    - question: What will be the total footprint of all additions of the available area around the original house?
                      responses:
                        - value: 50% or less
                      metadata:
                        section_name: Dimensions
                    - question: How high will the eaves of the new structure be?
                      responses:
                        - value: 2.5m or lower
                      metadata:
                        section_name: Dimensions
                    - question: What will the height of the new structure be?
                      responses:
                        - value: 2.5m or lower
                      metadata:
                        section_name: Dimensions
                    - question: How close will the new structure be to the site boundary?
                      responses:
                        - value: Within 2m
                      metadata:
                        section_name: Front of house
                    - question: Will any part of the new structure be forward of the front of the original house?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Front of house
                    - question: Will any part of the pool be forward of the front of the original house?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Front of house
                    - question: What is the addition to the property?
                      responses:
                        - value: An outdoor pool
                        - value: An outbuilding
                      metadata:
                        section_name: Property details
                        policy_refs:
                          - url: 'http://example.com/planning/policy/1/234/b.html'
                            text: GPDO 00.0000.000
                          - url: 'http://example.com/planning/policy/1/234/c.html'
                            text: GPDO 00.0000.000
                    - question: How many storeys will the new structure have?
                      responses:
                        - value: '1'
                      metadata:
                        section_name: Dimensions
                    - question: Is the property on designated land?
                      responses:
                        - value: 'No'
                          auto_answered: true
                      metadata:
                        section_name: Surrounding Area
                    - question: Is the property in an area of outstanding natural beauty?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Surrounding Area
                        auto_answered: true
                    - question: Is the property in the broads?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Surrounding Area
                        auto_answered: true
                    - question: Is the property in a world heritage site?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Surrounding Area
                        auto_answered: true
                    - question: Is the property in a national park?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Surrounding Area
                        auto_answered: true
                    - question: Is any part of the property listed?
                      responses:
                        - value: 'No'
                          metadata:
                            flags:
                              - Listed building consent / Not required
                      metadata:
                        section_name: Surrounding Area
                    - question: Will the works affect a protected tree?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Surrounding Area
                        auto_answered: true
                    - question: Will the new addition allow you to do an activity that most houses do not provide a dedicated space for?
                      responses:
                        - value: 'Yes'
                          metadata:
                            notes: It will allow me to exercise on a regular basis and generate energy
                            flags:
                              - Planning permission / Permission needed
                      metadata:
                        section_name: Actitivies
                    - question: What type of planning application are you making?
                      responses:
                        - value: Existing changes
                      metadata:
                        section_name: fee-calculator
                        policy_refs:
                          - url: 'http://example.com/planning/policy/1/234/a.html'
                    - question: What type of changes does the project involve?
                      responses:
                        - value: Alteration
                      metadata:
                        section_name: Fee Exemptions
                        policy_refs:
                          - text: The Town and Country Planning (General Permitted Development) (England) Order 2015
                  constraints:
                    conservation_area: true
                    protected_trees: false
                  files:
                    - filename: 'https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf'
                      applicant_description: This is the side plan
                      tags:
                        - Side
                  boundary_geojson:
                    type: Feature
                    geometry:
                      type: Polygon
                      coordinates:
                        - - - -0.07716178894042969
                            - 51.50094238217541
                          - - -0.07645905017852783
                            - 51.50053497847238
                          - - -0.07615327835083008
                            - 51.50115276135022
                          - - -0.07716178894042969
                            - 51.50094238217541
              ldc_existing:
                value:
                  application_type: lawfulness_certificate
                  site:
                    uprn: '100081043511'
                    address_1: 11 Abbey Gardens
                    address_2: Southwark
                    town: London
                    postcode: SE16 3RQ
                    latitude: '51.4842536'
                    longitude: '-0.0764165'
                  description: Add a chimney stack
                  payment_reference: PAY1
                  payment_amount: 10300
                  work_status: existing
                  applicant_first_name: Albert
                  applicant_last_name: Manteras
                  applicant_phone: '23432325435'
                  applicant_email: applicant@example.com
                  agent_first_name: Jennifer
                  agent_last_name: Harper
                  agent_phone: '237878889'
                  agent_email: agent@example.com
                  user_role: agent
                  feedback:
                    result: feedback about the result
                    find_property: feedback about the property
                    planning_constraints: feedback about the constraints
                  result:
                    flag: Planning permission / Permission needed
                    heading: It looks like these changes will need planning permission
                    description: 'Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate'
                    override: This was my reason for rejecting the result
                  proposal_details:
                    - question: Is the property in London Borough of Southwark?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: _root
                        auto_answered: true
                    - question: What are you applying about?
                      responses:
                        - value: Existing changes I have made in the past
                      metadata:
                        section_name: _root
                        policy_refs:
                          - text: 'Town and Country Planning Act 1990, Part 7, Section 191 &amp; Section 192'
                    - question: List the changes involved in the project
                      responses:
                        - value: Install a security alarm
                      metadata:
                        section_name: immunity-check
                    - question: What type of changes were they?
                      responses:
                        - value: Alteration
                      metadata:
                        section_name: immunity-check
                        auto_answered: true
                    - question: Were the works carried out more than 4 years ago?
                      responses:
                        - value: 'Yes'
                          metadata:
                            flags:
                              - Planning permission / Immune
                      metadata:
                        section_name: immunity-check
                        policy_refs:
                          - text: Town and Country Planning Act 1990 Section 171B
                    - question: Have the works been completed?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: immunity-check
                        policy_refs:
                          - text: Town and Country Planning Act 1990 Section 171B
                    - question: When were the works completed?
                      responses:
                        - value: '2015-02-01'
                      metadata:
                        section_name: immunity-check
                        policy_refs:
                          - text: Town and Country Planning Act 1990 Section 171B
                    - question: Has anyone ever attempted to conceal the changes?
                      responses:
                        - value: 'No'
                          metadata:
                            flags:
                              - Planning permission / Immune
                      metadata:
                        section_name: immunity-check
                        policy_refs:
                          - text: Secretary of State for Communities and Local Government and another v Welwyn Hatfield Borough Council and Bonsall / Jackson v Secretary of State for Communities and Local Government
                    - question: Has enforcement action been taken about these changes?
                      responses:
                        - value: 'No'
                          metadata:
                            flags:
                              - Planning permission / Immune
                      metadata:
                        section_name: immunity-check
                        policy_refs:
                          - text: |-
                              Enforcement action is defined in the Town and Country Planning Act 1990 Section 171A.
                              'Lawful development' is defined in the Town and Country Planning Act 1990 Section 191.
                    - question: List the changes involved in the project
                      responses:
                        - value: Install a security alarm
                      metadata:
                        section_name: permitteddevelopment
                        auto_answered: true
                        policy_refs:
                          - text: 'Town and Country Planning Act 1990 (Section 55), The Town and Country Planning (General Permitted Development) (England) Order 2015'
                    - question: Is the property in a conservation area?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: Alarms
                        auto_answered: true
                        policy_refs:
                          - text: 'Town and Country Planning Act 1990, Section 55 (2)'
                    - question: Do the works include installing a new alarm box to the house?
                      responses:
                        - value: 'No'
                          metadata:
                            flags:
                              - Planning permission / Not development
                      metadata:
                        section_name: Alarms
                        policy_refs:
                          - text: 'Town and Country Planning Act 1990, Section 55 (2)'
                    - question: Is any part of the property listed?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: _root
                        auto_answered: true
                    - question: What do the proposals involve?
                      responses:
                        - value: Alteration
                          metadata:
                            flags:
                              - Listed building consent / Required
                      metadata:
                        section_name: _root
                        auto_answered: true
                        policy_refs:
                          - text: Planning (Listed Buildings and Conservation Areas) Act 1990
                    - question: What types of changes does the project involve?
                      responses:
                        - value: Alteration
                      metadata:
                        section_name: works-to-trees-filter
                        auto_answered: true
                    - question: Have you already told us that you are doing works to a tree or hedge?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: works-to-trees-filter
                        auto_answered: true
                    - question: Are there any protected trees on the property?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: works-to-trees-filter
                        auto_answered: true
                    - question: Do the works affect a protected tree?
                      responses:
                        - value: 'No, definitely not'
                          metadata:
                            flags:
                              - Works to trees & hedges / Not required
                      metadata:
                        section_name: works-to-trees-filter
                        policy_refs:
                          - text: The Town and Country Planning (Tree Preservation)(England) Regulations 2012
                    - question: Should the applicant also apply for Works to Trees Consent?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: _root
                        auto_answered: true
                    - question: What are you applying about?
                      responses:
                        - value: Existing changes I have made in the past
                      metadata:
                        section_name: more-details
                        auto_answered: true
                    - question: What do the works involve?
                      responses:
                        - value: Alterations
                      metadata:
                        section_name: more-details
                        auto_answered: true
                    - question: What does the project involve?
                      responses:
                        - value: Install a security alarm
                      metadata:
                        section_name: more-details
                        auto_answered: true
                    - question: Do the changes involve the creation of any new homes?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: more-details
                        auto_answered: true
                    - question: Is the property in the Greater London Authority area?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: more-details
                        auto_answered: true
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: How many properties are on the site?
                      responses:
                        - value: Only one
                      metadata:
                        section_name: London Datahub
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: Do you know the title number of the property?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: London Datahub
                    - question: Does the property have an Energy Performance Certificate (EPC)?
                      responses:
                        - value: I don't know
                      metadata:
                        section_name: London Datahub
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: What type of application is this?
                      responses:
                        - value: Lawful Development Certificate - Existing
                      metadata:
                        section_name: London Datahub
                        auto_answered: true
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: When did the works start?
                      responses:
                        - value: '2015-01-01'
                      metadata:
                        section_name: London Datahub
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: When were the works completed?
                      responses:
                        - value: '2015-02-01'
                      metadata:
                        section_name: London Datahub
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: Does the site include parking spaces for any of these?
                      responses:
                        - value: None of these
                      metadata:
                        section_name: London Datahub
                        policy_refs:
                          - text: Greater London Authority Act 1999
                    - question: Are you applying on behalf of someone else?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: about-the-applicant
                    - question: Which of these best describes you?
                      responses:
                        - value: Private individual
                      metadata:
                        section_name: about-the-applicant
                    - question: Enter your contact details
                      responses:
                        - value: jessica@opensystemslab.io Test Jess 0123456789
                      metadata:
                        section_name: about-the-applicant
                    - question: Is your contact address the same as the property address?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: about-the-applicant
                    - question: 'If a planning officer needs to make a site visit, who should they contact?'
                      responses:
                        - value: 'Me, the applicant'
                      metadata:
                        section_name: about-the-applicant
                    - question: Which of these best describes you?
                      responses:
                        - value: Applicant
                      metadata:
                        section_name: ownership
                        auto_answered: true
                    - question: Which of these best describes your interest in the land?
                      responses:
                        - value: Sole owner
                      metadata:
                        section_name: ownership
                        policy_refs:
                          - text: The Town and Country Planning (Development Management Procedure) (England) Order 2015
                    - question: What type of application is it?
                      responses:
                        - value: Lawful Development Certificate – Existing changes
                      metadata:
                        section_name: community-infrastructure-levy
                        auto_answered: true
                    - question: What does the project involve?
                      responses:
                        - value: Alteration
                          metadata:
                            flags:
                              - Community infrastructure levy / Not liable
                      metadata:
                        section_name: CIL Liability check
                        auto_answered: true
                    - question: What are you applying about?
                      responses:
                        - value: Changes that have already been made in the past
                      metadata:
                        section_name: _root
                        auto_answered: true
                        policy_refs:
                          - text: '[Town and Country Planning Act 1990 Section 171B](https://www.legislation.gov.uk/ukpga/1990/8/section/171B)'
                    - question: Might the changes be immune?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: _root
                        auto_answered: true
                    - question: What types of changes did the project involve?
                      responses:
                        - value: Alterations
                      metadata:
                        section_name: certificate-of-lawfulness-existing-drawings-immunity
                        auto_answered: true
                    - question: Did the works involve altering the appearance or layout of any roof?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: certificate-of-lawfulness-existing-drawings-immunity
                    - question: Would you like to upload any detail drawings?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: certificate-of-lawfulness-existing-drawings-immunity
                    - question: Did the works involve any alterations to ground levels?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: certificate-of-lawfulness-existing-drawings-immunity
                    - question: Would you like to upload any photographs of the property as it is today?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: certificate-of-lawfulness-existing-drawings-immunity
                    - question: Would you like to upload any other additional drawings or documents?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: certificate-of-lawfulness-existing-drawings-immunity
                    - question: Provide evidence of completion date
                      responses:
                        - value: Utility bills
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What date do these utility bills start from?
                      responses:
                        - value: '2015-01-01'
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What date do these utility bills run until?
                      responses:
                        - value: '2015-02-01'
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What do these utility bills show?
                      responses:
                        - value: 'Test evidence '
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What type of planning application are you making?
                      responses:
                        - value: Lawful Development Certificate
                      metadata:
                        section_name: fee-calculator
                        auto_answered: true
                    - question: What type of changes are you applying for?
                      responses:
                        - value: Existing changes
                      metadata:
                        section_name: fee-calculator
                        auto_answered: true
                    - question: Is the property a home?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: LDC in Existing Use
                        auto_answered: true
                    - question: What types of changes does the application relate to?
                      responses:
                        - value: Alteration
                      metadata:
                        section_name: LDC in Existing Use
                        auto_answered: true
                    - question: What did the alterations involve?
                      responses:
                        - value: Installation of plant equipment
                      metadata:
                        section_name: LDC in Existing Use
                        auto_answered: true
                    - question: The area of the site is
                      responses:
                        - value: 5 hectares or less
                      metadata:
                        section_name: LDC-E - Plant equipment or machinery
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012 Schedule 1, Part 2'
                    - question: Is the property a home?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee Exemptions
                        auto_answered: true
                    - question: What type of changes does the project involve?
                      responses:
                        - value: Alteration
                      metadata:
                        section_name: Fee Exemptions
                        auto_answered: true
                    - question: Are the public allowed to access the building?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee Exemptions
                    - question: Is this application a resubmission?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee Exemptions
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012, Regulation 9'
                    - question: Does the application qualify for a disability exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee exemptions and adjustments
                        auto_answered: true
                    - question: Does the application qualify for a resubmission exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee exemptions and adjustments
                        auto_answered: true
                    - question: Is the site a sports field?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee Reductions
                        auto_answered: true
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012 Chapter 2, Paragraph 3'
                    - question: Is the application being made by (or on behalf of) a parish or community council?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee Reductions
                        auto_answered: true
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012 - Regulation 11'
                    - question: Are you also submitting another proposal for the same site today?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee Reductions
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012 Chapter 2, Paragraph 10'
                    - question: Does the application qualify for the sports club fee reduction?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee exemptions and adjustments
                        auto_answered: true
                    - question: Does the application qualify for the parish council reduction?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee exemptions and adjustments
                        auto_answered: true
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012 - Regulation 11'
                    - question: Does the application qualify for the alternative application reduction?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Fee exemptions and adjustments
                        auto_answered: true
                    - question: Did you get any pre-application advice before making this application?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: pre-app-advice-check
                    - question: Connections with Southwark Council
                      responses:
                        - value: None of the above apply to me
                      metadata:
                        section_name: declarations
                    - question: 'I confirm that:'
                      responses:
                        - value: 'The information contained in this application is truthful, accurate and complete, to the best of my knowledge'
                      metadata:
                        section_name: declarations
                    - question: What is the applicant's interest in the land?
                      responses:
                        - value: Southwark
                      metadata:
                        section_name: uniform-translator
                        auto_answered: true
                    - question: What is the user's role?
                      responses:
                        - value: Applicant
                      metadata:
                        section_name: uniform-translator
                        auto_answered: true
                    - question: What is the applicant's declared connections?
                      responses:
                        - value: None
                      metadata:
                        section_name: uniform-translator
                        auto_answered: true
                    - question: Does the application qualify for a disability exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: _root
                        auto_answered: true
                    - question: What do these photographs show?
                      responses:
                        - value: That it has happened
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What date do these utility bills start from?
                      responses:
                        - value: '2013-03-02'
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What date do these utility bills run until?
                      responses:
                        - value: '2019-04-01'
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What do these utility bills show?
                      responses:
                        - value: That i was paying water bills
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: When was this building control certificate issued?
                      responses:
                        - value: '2019-04-01'
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: What do these building control certificates show?
                      responses:
                        - value: that it was certified
                      metadata:
                        section_name: certificate-of-lawfulness-documents-immunity
                    - question: Does the application qualify for a resubmission exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: _root
                        auto_answered: true
                  constraints:
                    conservation_area: true
                    protected_trees: false
                  files:
                    - filename: 'https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf'
                      tags:
                        - Utility Bill
                    - filename: 'https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf'
                      tags:
                        - Utility Bill
                  boundary_geojson:
                    type: Feature
                    geometry:
                      type: Polygon
                      coordinates:
                        - - - -0.07716178894042969
                            - 51.50094238217541
                          - - -0.07645905017852783
                            - 51.50053497847238
                          - - -0.07615327835083008
                            - 51.50115276135022
                          - - -0.07716178894042969
                            - 51.50094238217541
              prior_approval_proposed:
                value:
                  application_type: prior_approval
                  site:
                    uprn: '100081043511'
                    address_1: 11 Abbey Gardens
                    address_2: Southwark
                    town: London
                    postcode: SE16 3RQ
                    latitude: '51.4842536'
                    longitude: '-0.0764165'
                  description: Add a rear extension
                  payment_reference: PAY1
                  payment_amount: 10300
                  work_status: proposed
                  applicant_first_name: Albert
                  applicant_last_name: Manteras
                  applicant_phone: '23432325435'
                  applicant_email: applicant@example.com
                  agent_first_name: Jennifer
                  agent_last_name: Harper
                  agent_phone: '237878889'
                  agent_email: agent@example.com
                  user_role: agent
                  feedback:
                    result: feedback about the result
                    find_property: feedback about the property
                    planning_constraints: feedback about the constraints
                  result:
                    flag: Planning permission / Permission needed
                    heading: It looks like these changes will need planning permission
                    description: 'Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate'
                    override: This was my reason for rejecting the result
                  proposal_details:
                    - question: Enter the address of the first adjoining property
                      responses:
                        - value: 'London, 80 Underhill Road , , , , SE22 0QU'
                    - question: Enter the address of the second adjoining property
                      responses:
                        - value: 'London, 78 Underhill Road, , , , SE22 0QU'
                    - question: Connections with London Borough of Lambeth
                      responses:
                        - value: None of the above apply to me
                      metadata:
                        auto_answered: true
                        section_name: declarations
                    - question: Has the house already been extended?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: prior-approval-files
                    - question: Select your project
                      responses:
                        - value: Add a rear extension
                      metadata:
                        section_name: Types of prior approval for houses
                    - question: Exactly how high are the eaves of the extension?
                      responses:
                        - value: '2.5'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class APermitted Development Rights for Householders Technical Guidance (PDF, 500KB)'
                        section_name: Rear and side extensions to houses
                    - question: Are you applying on behalf of someone else?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: about-the-applicant
                    - question: Is any part of the extension within 2 metres of the boundary?
                      responses:
                        - value: 'Yes'
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: What type of house is it?
                      responses:
                        - value: Mid terrace
                      metadata:
                        auto_answered: true
                        section_name: Rear and Side Extensions
                    - question: Is your contact address the same as the property address?
                      responses:
                        - value: 'Yes'
                      metadata:
                        section_name: about-the-applicant
                    - question: How much of the property is covered by extensions and outbuildings?
                      responses:
                        - value: 50% or less of the available area around the original house
                          metadata:
                            flags:
                              - Planning permission / Permitted development
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A'
                        section_name: Rear and side extensions to houses
                    - question: Connections with London Borough of Lambeth
                      responses:
                        - value: None of the above apply to me
                      metadata:
                        section_name: apply-for-service-declarations
                    - question: Was the house built before 2020?
                      responses:
                        - value: 'Yes, it was built before 2020'
                          metadata:
                            flags:
                              - Planning permission / Permitted development
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class 1 A.'
                        section_name: Rear and side extensions to houses
                    - question: How far does the new addition extend beyond the back wall of the original house?
                      responses:
                        - value: 3 to 6m
                          metadata:
                            flags:
                              - Planning permission / Prior approval
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A.1 (f)(i)'
                        section_name: Extensions - No projection - Rear only
                    - question: Is the property in Lambeth?
                      responses:
                        - value: 'Yes'
                      metadata:
                        auto_answered: true
                        section_name: _root
                    - question: What type of prior approval application is it?
                      responses:
                        - value: Larger extension to a house
                      metadata:
                        auto_answered: true
                        section_name: prior-approval-files
                    - question: What type of house is it?
                      responses:
                        - value: A terrace
                      metadata:
                        auto_answered: true
                        section_name: Extensions - No projection - Rear only
                    - question: What type of property is it?
                      responses:
                        - value: House
                      metadata:
                        auto_answered: true
                        section_name: property-types
                    - question: What type of prior approval application is it?
                      responses:
                        - value: Larger extension to a house
                      metadata:
                        auto_answered: true
                        section_name: Prior approval fees
                    - question: What type of prior approval application is it?
                      responses:
                        - value: Larger extension to a house
                      metadata:
                        auto_answered: true
                        section_name: prior-approval-more-information
                    - question: Has work already started?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: _root
                    - question: What is the exact height of the extension?
                      responses:
                        - value: '3'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A'
                        section_name: Rear and side extensions to houses
                    - question: What type of property is it?
                      responses:
                        - value: House
                      metadata:
                        auto_answered: true
                        section_name: prior-approval-scope-check
                    - question: Does the application qualify for a resubmission exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: Prior Approval Fee exemptions
                    - question: 'Would you like to upload any additional drawings, documents or images?'
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: prior-approval-files
                    - question: Is this a prior approval application for a larger rear extension?
                      responses:
                        - value: 'Yes'
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: Does the original house have a projection to the rear?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: Rear and side extensions to houses
                    - question: Will any part of the extension be higher than 4m?
                      responses:
                        - value: 'No'
                          metadata:
                            flags:
                              - Planning permission / Permitted development
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A.1 (g)(ii)Permitted Development Rights for Householders Technical Guidance (PDF, 500KB)'
                        section_name: Rear and side extensions to houses
                    - question: What type of house it is?
                      responses:
                        - value: Terrace
                      metadata:
                        auto_answered: true
                        section_name: property-types
                    - question: Is this a prior approval application for a larger rear extension?
                      responses:
                        - value: 'Yes'
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: Is this a prior approval application for a larger rear extension?
                      responses:
                        - value: 'Yes'
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: Is the property on designated land?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: What type of prior approval application is it?
                      responses:
                        - value: Larger extension to a house
                      metadata:
                        auto_answered: true
                        section_name: Fee Exemptions check
                    - question: How many storeys does the original house have?
                      responses:
                        - value: 2 or more
                      metadata:
                        section_name: Rear and side extensions to houses
                    - question: What will you use the extension for?
                      responses:
                        - value: Kitchen
                          metadata:
                            flags:
                              - Planning permission / Permitted development
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A  Town and Country Planning Act 1990, Section 55'
                        section_name: Rear and side extensions to houses
                    - question: Describe the project.
                      responses:
                        - value: The new extension will be 4.5m in length beyond the original rear wall on the ground floor.nThe height of the new extension is 3 meters (measured from the ground to the highest point of the new extension)n
                      metadata:
                        section_name: _root
                    - question: Is the property subject to any Article 4 directions?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: _root
                    - question: What works does the project involve?
                      responses:
                        - value: Extension
                      metadata:
                        auto_answered: true
                        section_name: Disability exemption check
                    - question: Which Local Planning authority is it?
                      responses:
                        - value: Lambeth
                      metadata:
                        auto_answered: true
                        section_name: apply-for-service-declarations
                    - question: Are the materials of the extension similar to the original house?
                      responses:
                        - value: 'Yes'
                          metadata:
                            flags:
                              - Planning permission / Permitted development
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A'
                        section_name: Rear and side extensions to houses
                    - question: Is the property a site of special scientific interest?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: Extensions - No projection - Rear only
                    - question: What type of prior approval application is it?application.type
                      responses:
                        - value: Larger extension to a house
                      metadata:
                        auto_answered: true
                        section_name: Lambeth confirmation page
                    - question: Does the application qualify to the same-day-planning-application exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012, Regulation 14'
                        section_name: Prior Approval Fee exemptions
                    - question: What type of planning application are you making?
                      responses:
                        - value: Prior approval
                      metadata:
                        auto_answered: true
                        section_name: fee-calculator
                    - question: Was the house always a house?
                      responses:
                        - value: 'Yes, it was built as a house'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015, Schedule 2, Part 1, Class A'
                        section_name: Rear and side extensions to houses
                    - question: 'We may need to visit your site to assess your application. If we do, who should we contact to arrange the visit?'
                      responses:
                        - value: 'Me, the applicant'
                      metadata:
                        section_name: about-the-applicant
                    - question: How many storeys does the original house have?
                      responses:
                        - value: 2 or more
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: Are you submitting a planning permission application as well as this prior approval application?
                      responses:
                        - value: 'No'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012, Regulation 14'
                        section_name: Planning applications exemption
                    - question: Does the application qualify for a disability exemption?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: Prior Approval Fee exemptions
                    - question: How high are the eaves of the extension?
                      responses:
                        - value: 3m or lower
                          metadata:
                            flags:
                              - Planning permission / Permitted development
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A.1 (i)Permitted Development Rights for Householders Technical Guidance (PDF, 500KB)'
                        section_name: Extensions - Two storey extensions
                    - question: What type of property is it?
                      responses:
                        - value: House
                      metadata:
                        auto_answered: true
                        policy_refs:
                          - text: The Town and Country Planning (General Permitted Development) (England) Order 2015
                        section_name: Rear and Side Extensions
                    - question: Do you want to add drawings to show elevations?
                      responses:
                        - value: 'No'
                      metadata:
                        section_name: prior-approval-files
                    - question: Is the property a home?
                      responses:
                        - value: 'Yes'
                      metadata:
                        auto_answered: true
                        section_name: Disability exemption check
                    - question: Which of these best describes you (or your organisation)?
                      responses:
                        - value: Private individual
                      metadata:
                        section_name: about-the-applicant
                    - question: 'I confirm that:'
                      responses:
                        - value: 'The information contained in this application is truthful, accurate and complete, to the best of my knowledge'
                      metadata:
                        section_name: apply-for-service-declarations
                    - question: 'I confirm that:'
                      responses:
                        - value: 'The information contained in this application is truthful, accurate and complete, to the best of my knowledge'
                      metadata:
                        auto_answered: true
                        section_name: declarations
                    - question: Which of these best describes your project?
                      responses:
                        - value: Rear only
                      metadata:
                        policy_refs:
                          - text: 'General Permitted Development Order 2015, Technical guidance (PDF)'
                        section_name: Rear and side extensions to houses
                    - question: Your contact details
                      responses:
                        - value: joe@test.com Mr Blogs Joe 22211
                      metadata:
                        section_name: about-the-applicant
                    - question: Which Local Planning authority is it?
                      responses:
                        - value: Lambeth
                      metadata:
                        auto_answered: true
                        section_name: Confirmation pages
                    - question: Which of these best describes the new extension?
                      responses:
                        - value: Single storey
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Section 2, Part 1, Class A'
                        section_name: Rear and side extensions to houses
                    - question: How many storeys does the original house have?
                      responses:
                        - value: 2 or more
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: What type of roof does the extension have?
                      responses:
                        - value: Sloping
                      metadata:
                        section_name: Rear and side extensions to houses
                    - question: Is any part of the extension within 2 metres of the boundary?
                      responses:
                        - value: 'Yes'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A'
                        section_name: Extensions - No projection - Rear only
                    - question: Is the sole purpose of the project to support the needs of a disabled resident?
                      responses:
                        - value: 'No'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (Fees for Applications, Deemed Applications, Requests and Site Visits) (England) Regulations 2012, Regulation 14UK Statutory Instruments 2012 No. 2920 Regulation 4, Equalities Act 2010, Section 6 Children Act 1989, Part 3'
                        section_name: Fee Exemptions
                    - question: Does the original house have a projection to the rear?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                    - question: Is the property on designated land?
                      responses:
                        - value: 'No'
                      metadata:
                        auto_answered: true
                        section_name: Extensions - No projection - Rear only
                    - question: Exactly how far will the new addition extend beyond the back wall of the original house?
                      responses:
                        - value: '4.5'
                      metadata:
                        policy_refs:
                          - text: 'The Town and Country Planning (General Permitted Development) (England) Order 2015 Schedule 2, Part 1, Class A'
                        section_name: Rear and side extensions to houses
                    - question: What type of roof does the extension have?
                      responses:
                        - value: Sloping
                      metadata:
                        auto_answered: true
                        section_name: Rear and side extensions to houses
                  constraints:
                    conservation_area: true
                    protected_trees: false
                  files:
                    - filename: 'https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf'
                      tags:
                        - Proposed
                    - filename: 'https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf'
                      tags:
                        - Proposed
                  boundary_geojson:
                    type: Feature
                    geometry:
                      type: Polygon
                      coordinates:
                        - - - -0.07716178894042969
                            - 51.50094238217541
                          - - -0.07645905017852783
                            - 51.50053497847238
                          - - -0.07615327835083008
                            - 51.50115276135022
                          - - -0.07716178894042969
                            - 51.50094238217541
  /api/v1/documents/tags:
    get:
      summary: Retrieves permitted document tags
      tags:
        - Document tags
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Retrieves all the permitted document tags (evidence and plan)
          content:
            application/json:
              example:
                tags: []
                evidence_tags: []
                document_tags: []
  '/api/v1/local_authorities/{subdomain}':
    get:
      summary: Retrieves local authority information
      tags:
        - Local authority information
      parameters:
        - in: path
          name: subdomain
          required: true
          schema:
            type: string
            minimum: 1
          description: The local authority's subdomain on BoPS
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Retrieves local authorities
          content:
            application/json:
              example:
                council_code: LBH
                email_address: lambeth@planning.com
  '/api/v1/planning_applications/{id}/neighbour_responses':
    post:
      summary: Create new neighbour response
      tags:
        - Neighbour response
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: valid_request
          content: {}
        '400':
          description: invalid_request
          content: {}
        '401':
          description: unauthorized_user
          content: {}
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  enum:
                    - Jo Blogs
                  example: Jo Blogs
                email:
                  type: string
                  enum:
                    - jo@example.com
                  example: jo@example.com
                address:
                  type: string
                  enum:
                    - '123 Street, London, E1 6LT'
                  example: '123 Street, London, E1 6LT'
                response:
                  type: string
                  enum:
                    - I like it
                  example: I like it
                summary_tag:
                  type: string
                  enum:
                    - supportive
                  example: supportive
                tags: 
                  type: array
                  items:
                    type: string
                    enum: 
                      - "privacy"
                    example: "privacy"
              required:
                - name
                - response
            examples:
              supportive:
                value:
                  name: Jo Blogs
                  email: jo@example.com
                  address: '123 Street, London, E1 6LT'
                  response: I like it
                  summary_tag: supportive
                  tags: ["privacy", "design"]
  '/api/v1/planning_applications/{planning_application_id}/validation_requests':
    get:
      summary: Retrieves all validation requests for a given planning application
      tags:
        - Validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: All validation requests
          content:
            application/json:
              examples:
                Full:
                  value:
                    data:
                      description_change_validation_requests:
                        - id: 1
                          type: description_change_validation_request
                          proposed_description: A proposed new description
                          state: open
                          response_due: '2020-05-14T05:18:17.540Z'
                          days_until_response_due: 10
                          approved: true
                          rejection_reason: null
                          cancel_reason: null
                          cancelled_at: null
                      replacement_document_validation_requests:
                        - id: 2
                          type: replacement_document_validation_request
                          state: open
                          response_due: '2020-05-14T05:18:17.540Z'
                          days_until_response_due: 10
                          old_document:
                            name: document.jpg
                            invalid_document_reason: It is missing a scale
                          new_document:
                            name: new_document.jpg
                            url: document.blob./new_document.jpg
                          cancel_reason: null
                          cancelled_at: null
                      other_change_validation_requests:
                        - id: 1
                          type: other_change_validation_request
                          state: open
                          response_due: '2021-11-15'
                          summary: A summary
                          suggestion: A better suggestion
                          response: null
                          days_until_response_due: 10
                          cancel_reason: null
                          cancelled_at: null
                      red_line_boundary_change_validation_requests:
                        - id: 1
                          type: red_line_boundary_change_validation_request
                          state: open
                          reason: needs more accurate line
                          response_due: '2021-11-19'
                          days_until_response_due: 15
                          original_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.10325081560910647,51.46816799316076],[-0.10352967552199721,51.46765851790562],[-0.10129790933432066,51.46777755697633],[-0.1116511730084775,51.46847182126817],[-0.11325081560910647,51.46816799316076]]]},"properties":null}]}'
                          new_geojson: null
                          approved: null
                          cancel_reason: null
                          cancelled_at: null
                      additional_document_validation_requests:
                        - id: 1
                          type: additional_document_validation_request
                          state: open
                          response_due: '2020-05-14T05:18:17.540Z'
                          days_until_response_due: 10
                          documents:
                            - name: new_document.jpg
                              url: document.blob./new_document.jpg
                          cancel_reason: null
                          cancelled_at: null
  '/api/v1/planning_applications/{planning_application_id}/other_change_validation_requests':
    get:
      summary: Retrieves all other change validation requests for a given planning application
      tags:
        - Other change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: All other change validation requests for a planning application
          content:
            application/json:
              example:
                data:
                  - id: 1
                    state: open
                    response_due: '2020-05-14T05:18:17.540Z'
                    response: I accept the change
                    summary: We need another change
                    suggestion: Make a change
                    days_until_response_due: 10
                    cancel_reason: null
                    cancelled_at: null
                  - id: 2
                    state: open
                    response_due: '2020-05-14T05:18:17.540Z'
                    response: I accept the change
                    summary: We need yet another change
                    suggestion: Make an additional change
                    days_until_response_due: 10
                    cancel_reason: null
                    cancelled_at: null
  '/api/v1/planning_applications/{planning_application_id}/other_change_validation_requests/{other_change_validation_request_id}':
    get:
      summary: Retrieves an other change validation request
      tags:
        - Other change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: other_change_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The other change validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: An other change validation request
          content:
            application/json:
              example:
                id: 1
                state: open
                response_due: '2020-05-14T05:18:17.540Z'
                response: I accept the change
                summary: We need another change
                suggestion: Make a change
                days_until_response_due: 10
                cancel_reason: null
                cancelled_at: null
    patch:
      summary: Update an other validation request
      tags:
        - Other change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: other_change_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The other change validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                response:
                  type: string
                  example: A response
              required:
                - response
            example:
              data:
                response: A response
      responses:
        '200':
          description: Update other change validation request
          content:
            application/json:
              example:
                message:
                  - Validation request updated
  '/api/v1/planning_applications/{planning_application_id}/description_change_validation_requests':
    get:
      summary: Retrieves all description change validation requests for a given planning application
      tags:
        - Description change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: All description change validation requests for a planning application
          content:
            application/json:
              example:
                data:
                  - id: 1
                    state: closed
                    response_due: '2020-05-14T05:18:17.540Z'
                    proposed_description: A better description
                    previous_description: A description
                    rejection_reason: I prefer my description
                    approved: false
                    days_until_response_due: 10
                    cancel_reason: null
                    cancelled_at: null
                  - id: 2
                    state: open
                    response_due: '2020-05-14T05:18:17.540Z'
                    proposed_description: Another description
                    previous_description: My description
                    rejection_reason: null
                    approved: true
                    days_until_response_due: 10
                    cancel_reason: null
                    cancelled_at: null
  '/api/v1/planning_applications/{planning_application_id}/description_change_validation_requests/{description_change_validation_request_id}':
    get:
      summary: Retrieves a desription change validation request
      tags:
        - Description change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: description_change_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The description change validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: A description change validation request
          content:
            application/json:
              example:
                id: 1
                state: closed
                response_due: '2020-05-14T05:18:17.540Z'
                proposed_description: 'A better description,'
                previous_description: 'A description,'
                rejection_reason: 'I prefer my description,'
                approved: 'false,'
                days_until_response_due: 10
                cancel_reason: null
                cancelled_at: null
    patch:
      summary: Update a description validation request
      tags:
        - Description change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: description_change_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The description change validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                approved:
                  type: boolean
                  example: true
                rejection_reason:
                  type: string
                  example: Refusal reason
              required:
                - approved
            examples:
              Accept:
                value:
                  data:
                    approved: true
              Reject:
                value:
                  data:
                    approved: false
                    rejection_reason: Refusal reason
      responses:
        '200':
          description: Update description change validation request
          content:
            application/json:
              example:
                message:
                  - Validation request updated
  '/api/v1/planning_applications/{planning_application_id}/red_line_boundary_change_validation_requests':
    get:
      summary: Retrieves all red line boundary change validation requests for a given planning application
      tags:
        - Red line boundary change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: All red line boundary change validation requests for a planning application
          content:
            application/json:
              example:
                data:
                  - id: 1
                    state: open
                    response_due: '2021-11-19'
                    original_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.10325081560910647,51.46816799316076],[-0.10352967552199721,51.46765851790562],[-0.10129790933432066,51.46777755697633],[-0.1116511730084775,51.46847182126817],[-0.11325081560910647,51.46816799316076]]]},"properties":null}]}'
                    new_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.10325081560910647,51.46816799316076],[-0.10352967552199721,51.46765851790562],[-0.10129790933432066,51.46777755697633],[-0.1016511730084775,51.46847182126817],[-0.10325081560910647,51.46816799316076]]]},"properties":null}]}'
                    reason: needs more accurate line
                    rejection_reason: i do not agree
                    approved: false
                    days_until_response_due: 15
                    cancel_reason: null
                    cancelled_at: null
                  - id: 2
                    state: open
                    response_due: '2021-11-19'
                    original_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.10325081560910647,51.46816799316076],[-0.10352967552199721,51.46765851790562],[-0.10129790933432066,51.46777755697633],[-0.1216511730084775,51.46847182126817],[-0.12325081560910647,51.46816799316076]]]},"properties":null}]}'
                    new_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.09761652809754853,51.467562650218866],[-0.09746094063525311,51.466979258263365],[-0.09590813634358597,51.46703468056387],[-0.09605296414052011,51.46772966009246],[-0.09761652809754853,51.467562650218866]]]},"properties":null}]}'
                    reason: needs a way more accurate line
                    rejection_reason: null
                    approved: true
                    days_until_response_due: 15
                    cancel_reason: null
                    cancelled_at: null
  '/api/v1/planning_applications/{planning_application_id}/red_line_boundary_change_validation_requests/{red_line_boundary_change_validation_request_id}':
    get:
      summary: Retrieves a red line boundary change validation request
      tags:
        - Red line boundary change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: red_line_boundary_change_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The red line boundary change validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: A red line boundary change validation request
          content:
            application/json:
              example:
                id: 1
                state: closed
                response_due: '2021-11-19'
                original_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.10325081560910647,51.46816799316076],[-0.10352967552199721,51.46765851790562],[-0.10129790933432066,51.46777755697633],[-0.1116511730084775,51.46847182126817],[-0.11325081560910647,51.46816799316076]]]},"properties":null}]}'
                new_geojson: '{"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[-0.10325081560910647,51.46816799316076],[-0.10352967552199721,51.46765851790562],[-0.10129790933432066,51.46777755697633],[-0.1016511730084775,51.46847182126817],[-0.10325081560910647,51.46816799316076]]]},"properties":null}]}'
                reason: needs more accurate line
                rejection_reason: i do not agree
                approved: false
                days_until_response_due: 15
                cancel_reason: null
                cancelled_at: null
    patch:
      summary: Update a red line boundary change validation request
      tags:
        - Red line boundary change validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: red_line_boundary_change_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The red line boundary change validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                approved:
                  type: boolean
                  example: true
                rejection_reason:
                  type: string
                  example: Refusal reason
              required:
                - approved
            examples:
              Accept:
                value:
                  data:
                    approved: true
              Reject:
                value:
                  data:
                    approved: false
                    rejection_reason: Refusal reason
      responses:
        '200':
          description: Update red line boundary change validation request
          content:
            application/json:
              example:
                message:
                  - Validation request updated
  '/api/v1/planning_applications/{planning_application_id}/additional_document_validation_requests':
    get:
      summary: Retrieves all additional document requests for a given planning application
      tags:
        - Additional document validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: All additional document requests for a planning application
          content:
            application/json:
              example:
                data:
                  - id: 1
                    state: closed
                    response_due: '2020-05-14T05:18:17.540Z'
                    days_until_response_due: 10
                    document_request_type: floor plan
                    document_request_reason: need to see the floor plan
                    documents:
                      - name: new_document.jpg
                        url: document.blob./new_document.jpg
                    cancel_reason: null
                    cancelled_at: null
                  - id: 2
                    state: open
                    response_due: '2020-05-14T05:18:17.540Z'
                    days_until_response_due: 10
                    document_request_type: floor plan
                    document_request_reason: need to see the floor plan
                    documents: []
                    cancel_reason: null
                    cancelled_at: null
  '/api/v1/planning_applications/{planning_application_id}/additional_document_validation_requests/{additional_document_validation_request_id}':
    get:
      summary: Retrieves an additional document validation request
      tags:
        - Additional document validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: additional_document_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The additional document validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: An additional document validation request
          content:
            application/json:
              example:
                id: 1
                state: closed
                response_due: '2020-05-14T05:18:17.540Z'
                days_until_response_due: 10
                document_request_type: floor plan
                document_request_reason: need to see the floor plan
                documents:
                  - name: new_document.jpg
                    url: document.blob./new_document.jpg
                cancel_reason: null
                cancelled_at: null
    patch:
      summary: Update an additional document validation request
      tags:
        - Additional document validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: additional_document_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The additional document validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                new_file:
                  type: string
                  format: binary
      responses:
        '200':
          description: Update additional document validation request
          content:
            application/json:
              example:
                message:
                  - Validation request updated
  '/api/v1/planning_applications/{planning_application_id}/replacement_document_validation_requests':
    get:
      summary: Retrieves all replacement document requests for a given planning application
      tags:
        - Replacement document validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: All replacement document requests for a planning application
          content:
            application/json:
              example:
                data:
                  - id: 1
                    state: open
                    response_due: '2020-05-14T05:18:17.540Z'
                    days_until_response_due: 10
                    document_request_type: lower ground floor plan
                    document_request_reason: need to see the lower ground floor plan
                    old_document:
                      name: old_document.jpg
                      url: document.blob./old_document.jpg
                    cancel_reason: null
                    cancelled_at: null
                  - id: 2
                    state: closed
                    response_due: '2020-05-14T05:18:17.540Z'
                    days_until_response_due: 10
                    document_request_type: upper level floor plan
                    document_request_reason: need to see the upper level floor plan
                    old_document:
                      name: jpg-icon.png
                      invalid_document_reason: not detailed enough
                    new_document:
                      name: new_document.jpg
                      url: document.blob./new_document.jpg
                    cancel_reason: null
                    cancelled_at: null
  '/api/v1/planning_applications/{planning_application_id}/replacement_document_validation_requests/{replacement_document_validation_request_id}':
    get:
      summary: Retrieves a replacement document validation request
      tags:
        - Replacement document validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: replacement_document_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      responses:
        '200':
          description: A replacement document validation request
          content:
            application/json:
              example:
                id: 1
                state: closed
                response_due: '2020-05-14T05:18:17.540Z'
                days_until_response_due: 10
                document_request_type: floor plan
                document_request_reason: need to see the floor plan
                old_document:
                  name: jpg-icon.png
                  invalid_document_reason: not detailed enough
                new_document:
                  name: new_document.jpg
                  url: document.blob./new_document.jpg
                cancel_reason: null
                cancelled_at: null
    patch:
      summary: Update a replacement document change validation request
      tags:
        - Replacement document validation requests
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: planning_application_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The planning application ID
        - in: path
          name: replacement_document_validation_request_id
          required: true
          schema:
            type: integer
            minimum: 1
          description: The validation request ID
        - in: query
          name: change_access_id
          required: true
          schema:
            type: string
          description: A unique access code for this planning application
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                new_file:
                  type: string
                  format: binary
      responses:
        '200':
          description: Update replacement document change validation request
          content:
            application/json:
              example:
                message:
                  - Validation request updated
