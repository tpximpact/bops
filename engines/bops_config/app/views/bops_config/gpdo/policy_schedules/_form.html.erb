<%= form_with model: [:gpdo, @schedule], url: url do |form| %>
  <%= form.govuk_error_summary %>

  <%= form.govuk_text_field :number, label: {text: t(".number_label")}, hint: {text: t(".number_hint")}, readonly: @schedule.persisted? %>
  <%= form.govuk_text_field :name, label: {text: t(".name_label")}, hint: {text: t(".name_hint")} %>

  <%= form.govuk_submit(t(".save")) do %>
    <% if action_name == "edit" && @schedule.policy_parts.none? %>
      <%= govuk_button_link_to(t(".remove"),
            gpdo_policy_schedule_path(@schedule.number),
            warning: true,
            method: :delete,
            data: {confirm: "Are you sure?"}) %>
    <% end %>

    <%= govuk_button_link_to t("back"), gpdo_policy_schedules_path, secondary: true %>
  <% end %>
<% end %>
